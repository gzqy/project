<html lang="en"><head>
    <meta charset="UTF-8">
    <title></title>
<style id="system" type="text/css">h1,h2,h3,h4,h5,h6,p,blockquote {    margin: 0;    padding: 0;}body {    font-family: "Helvetica Neue", Helvetica, "Hiragino Sans GB", Arial, sans-serif;    font-size: 13px;    line-height: 18px;    color: #737373;    margin: 10px 13px 10px 13px;}a {    color: #0069d6;}a:hover {    color: #0050a3;    text-decoration: none;}a img {    border: none;}p {    margin-bottom: 9px;}h1,h2,h3,h4,h5,h6 {    color: #404040;    line-height: 36px;}h1 {    margin-bottom: 18px;    font-size: 30px;}h2 {    font-size: 24px;}h3 {    font-size: 18px;}h4 {    font-size: 16px;}h5 {    font-size: 14px;}h6 {    font-size: 13px;}hr {    margin: 0 0 19px;    border: 0;    border-bottom: 1px solid #ccc;}blockquote {    padding: 13px 13px 21px 15px;    margin-bottom: 18px;    font-family:georgia,serif;    font-style: italic;}blockquote:before {    content:"C";    font-size:40px;    margin-left:-10px;    font-family:georgia,serif;    color:#eee;}blockquote p {    font-size: 14px;    font-weight: 300;    line-height: 18px;    margin-bottom: 0;    font-style: italic;}code, pre {    font-family: Monaco, Andale Mono, Courier New, monospace;}code {    background-color: #fee9cc;    color: rgba(0, 0, 0, 0.75);    padding: 1px 3px;    font-size: 12px;    -webkit-border-radius: 3px;    -moz-border-radius: 3px;    border-radius: 3px;}pre {    display: block;    padding: 14px;    margin: 0 0 18px;    line-height: 16px;    font-size: 11px;    border: 1px solid #d9d9d9;    white-space: pre-wrap;    word-wrap: break-word;}pre code {    background-color: #fff;    color:#737373;    font-size: 11px;    padding: 0;}@media screen and (min-width: 768px) {    body {        width: 748px;        margin:10px auto;    }}</style><style id="custom" type="text/css"></style></head>
<body><h1>编码规范-01</h1>
<h3>1、源文件</h3>
<p>（1）、纯PHP代码源文件只使用 &lt;?php 标签，省略关闭标签 ?&gt; ；

</p>
<p>（2）、源文件中PHP代码的编码格式必须是无BOM的UTF-8格式；

</p>
<p>（3）、、一个源文件只做一种类型的声明，即，这个文件专门用来声明Class, 那个文件专门用来设置配置信息，别混在一起写；
</p>
<h3>2、缩进</h3>
<p>使用Tab键来缩进，每个Tab键长度设置为4个空格；（默认）
</p>
<h3>3、行</h3>
<p>一行推荐的是最多写120个字符，多于这个字符就应该换行了，一般的编辑器是可以设置的。
</p>
<h3>4、关键字 和 True/False/Null</h3>
<p>PHP的关键字，必须小写，boolean值：true，false，null 也必须小写。

</p>
<p>下面是PHP的“关键字”，必须小写：

</p>
<pre><code>'abstract', 'and', 'array', 'as', 'break',empty','</code></pre>
<h3>5、命名</h3>
<p>（1）类名 使用大驼峰式（StudlyCaps）写法；

</p>
<p>（2）（类的）方法名 使用小驼峰（eat）写法；

</p>
<p>（3）变量名 使用小写写法，如 $user；

</p>
<h3>6、代码注释标签</h3>
<p>如 函数注释、变量注释等，常用标签有 @package、@var、@param、@return、@author、@todo、@throws

</p>
<p>必须遵守 phpDocument 标签规则，不要另外去创造新的标签，更多标签查看 phpDocument官网
</p>
<h3>7、业务模块</h3>
<h5>1、命名空间(Namespace) 和 导入(Use)声明</h5>
<p>先简单文字描述下：

</p>
<pre><code>命名空间(namespace)的声明后面必须有一行空行；
所有的导入(use)声明必须放在命名空间(namespace)声明的下面；
一句声明中，必须只有一个导入(use)关键字；
在导入(use)声明代码块后面必须有一行空行；</code></pre>
<p>用代码来说明下：

</p>
<pre><code>&lt;?php
namespace Lib\Databases; // 下面必须空格一行

class Mysql {

}</code></pre>
<p>namespace下空一行，才能使用use，再空一行，才能声明class

</p>
<pre><code> &lt;?php
namespace Lib\Databases; // 下面必须空格一行

use FooInterface; // use 必须在namespace 后面声明
use BarClass as Bar;
use OtherVendor\OtherPackage\BazClass; // 下面必须空格一行

class Mysql {

}</code></pre>
<h5>2、类(class)，属性(property)和方法(method)</h5>
<p>（1）、继承(extends) 和实现(implement) 必须和 class name 写在一行。

</p>
<pre><code>&lt;?php
namespace Lib\Databaes;

class Mysql extends ParentClass implements \PDO, \DB { // 写一行

}</code></pre>
<p>（2）、属性(property)必须声明其可见性，到底是 public 还是 protected 还是 private，不能省略，也不能使用var, var是php老版本中的什么方式，等用于public。

</p>
<pre><code>&lt;?php
namespace Lib\Databaes;

class Mysql extends ParentClass implements \PDO, \DB { // 写一行
    public $foo = null;
    private $name = 'yangyi';
    protected $age = '17';
}</code></pre>
<p>（3）、方法(method)，必须 声明其可见性，到底是 public 还是 protected 还是 private，不能省略。如果有多个参数，第一个参数后紧接“,” ，再加一个空格：function_name ($par, $par2, $pa3), 如果参数有默认值，“=”左右各有一个空格分开。

</p>
<pre><code>&lt;?php
namespace Lib\Databaes;

class Mysql extends ParentClass implements \PDO, \DB { // 写一行
    public getInfo($name, $age, $gender = 1) { // 参数之间有一个空格。默认参数的“=”左右各有一个空格，) 与 { 之间有一个空格

    }
}</code></pre>
<p>（4）、当用到抽象(abstract)和终结(final)来做类声明时，它们必须放在可见性声明 （public 还是protected还是private）的前面。而当用到静态(static)来做类声明时，则必须放在可见性声明的后面。

</p>
<p>直接上代码：


</p>
<pre><code>&lt;?php
namespace Vendor\Package;

abstract class ClassName {
    protected static $foo; // static放后面
    abstract protected function zim(); // abstract放前面

    final public static function bar() { // final放前面，static放最后。
        // 方法主体部分
    }
}</code></pre>
<h5>3、控制结构</h5>
<p>控制接口，就是 if else while switch等。这一类的写法规范也是经常容易出现问题的，也要规范一下。

</p>
<p>（1）、if，elseif，else写法，直接上规范代码吧：

</p>
<pre><code>&lt;?php
if ($expr1) { // if 与 ( 之间有一个空格，) 与 { 之间有一个空格

} elseif ($expr2) { // elesif 连着写，与 ( 之间有一个空格，) 与 { 之间有一个空格

} else { // else 左右各一个空格

}</code></pre>
<p>（2）、switch，case 注意空格和换行，还是直接上规范代码：

</p>
<pre><code>&lt;?php
switch ($expr) { // switch 与 ( 之间有一个空格，) 与 { 之间有一个空格
    case 0:
        echo 'First case, with a break'; // 对齐
        break; // 换行写break，也对齐。
    case 1:
        echo 'Second case, which falls through';
        // no break
    case 2:
    case 3:
    case 4:
        echo 'Third case, return instead of break';
        return;
    default:
        echo 'Default case';
        break;
}</code></pre>
<p>（3）、while，do while 的写法也是类似，上代码：

</p>
<pre><code>&lt;?php
while ($expr) { // while 与 ( 之间有一个空格， ) 与 { 之间有一个空格

}
do { // do 与 { 之间有一个空格

} while ($expr); // while 左右各有一个空格</code></pre>
<p>（4）、for的写法

</p>
<pre><code>&lt;?php
for ($i = 0; $i &lt; 10; $i++) { // for 与 ( 之间有一个空格，二元操作符 "="、"&lt;" 左右各有一个空格，) 与 { 之间有一个空格

}</code></pre>
<p>（5）、foreach的写法

</p>
<pre><code>&lt;?php
foreach ($iterable as $key =&gt; $value) { // foreach 与 ( 之间有一个空格，"=&gt;" 左右各有一个空格，) 与 { 之间有一个空格

}</code></pre>
<p>（6）、try catch的写法

</p>
<pre><code>&lt;?php
try { // try 右边有一个空格

} catch (FirstExceptionType $e) { // catch 与 ( 之间有一个空格，) 与 { 之间有一个空格

} catch (OtherExceptionType $e) { // catch 与 ( 之间有一个空格，) 与 { 之间有一个空格

}</code></pre>
<h5>4、注释</h5>
<p>（1）、行注释

</p>
<p>// 后面需要加一个空格；

</p>
<p>如果 // 前面有非空字符，则 // 前面需要加一个空格；

</p>
<p>（2）、函数注释 

</p>
<p>参数名、    属性名、            具体注释                     标签的文本 上下要对齐；
规范针对   特殊的类方法。通用方法不需要注释，如果特殊情况单独注释。
</p>
<pre><code>@author     对类的说明          标明开发该类模块的作者

@version    对类的说明          标明该类模块的版本

@see        对类、属性、        方法的说明 参考转向，也就是相关主题

@param      对方法的说明        对方法中某参数的说明

@return     对方法的说明        对方法返回值的说明

@exception  对方法的说明 对方法可能抛出的异常进行说明
在第一个标签前加一个空行；</code></pre>
<pre><code>&lt;?php
/**
 * This is a sample function to illustrate additional PHP
 * formatter options.
 *
 * @param        $one   The first parameter
 * @param int    $two   The second parameter
 * @param string $three The third parameter with a longer
 *                      comment to illustrate wrapping.
 * @return void
 * @author  phpgo.cnblogs.com
 * @license GPL
 */
function foo($one, $two = 0, $three = "String") {

}</code></pre>
<p>5、空格

</p>
<p>（1）、赋值操作符（=，+= 等）、逻辑操作符（&amp;&amp;，||）、等号操作符（==，!=）、关系运算符（&lt;，&gt;，&lt;=，&gt;=）、按位操作符（&amp;，|，^）、连接符（.） 左右各有一个空格；

</p>
<p>（2）、if，else，elseif，while，do，switch，for，foreach，try，catch，finally 等 与 紧挨的左括号“(”之间有一个空格；

</p>
<p>（3）、函数、方法的各个参数之间，逗号（","）后面有一个空格；
6、空行

</p>
<p>（1）、所有左花括号 { 都不换行，并且 ｛ 紧挨着的下方，一定不是空行；

</p>
<p>（2）、同级代码（缩进相同）的 注释（行注释/块注释）前面，必须有一个空行；

</p>
<p>（3）、各个方法/函数 之间有一个空行；

</p>
<p>（4）、namespace语句、use语句、clase语句 之间有一个空行；

</p>
<p>（5）、return语句

</p>
<p>如果 return 语句之前只有一行PHP代码，return 语句之前不需要空行；

</p>
<p>如果 return 语句之前有至少二行PHP代码，return 语句之前加一个空行；

</p>
<p>（5）、if，while，switch，for，foreach、try 等代码块之间 以及 与其他代码之间有一个空行；





</p>
<p>【参考示例 汇总】

</p>
<p>参考1：

</p>
<pre><code>&lt;?php
namespace Lib\Databaes;

class Mysql extends ParentClass implements \PDO, \DB { // 写一行
    public getInfo($name, $age, $gender = 1) { // 参数之间有一个空格。默认参数的“=”左右各有一个空格，) 与 { 之间有一个空格

    }
}</code></pre>
<p>参考2:

</p>
<pre><code>&lt;?php
namespace Vendor\Package;

abstract class ClassName {
    protected static $foo; // static放后面
    abstract protected function zim(); // abstract放前面

    final public static function bar() { // final放前面，static放最后。
        // 方法主体部分
    }
}</code></pre>
<p>参考3：

</p>
<pre><code>&lt;?php
namespace library\Model;

use library\Helper\ImageHelper;
use library\Logic\UserMainLogic;

/**
 * 用户表 数据模型
 *
 * @package library\Model
 */
class UserMainModel extends BasicModel {
     /**
     * 获得用户统计信息
     *
     * @param int $userId 用户ID
     * @return array
     */
    public function getUserCard($userId) {
        $userId = intval($userId);
        return UserMainLogic::instance()-&gt;getUserCard($userId);
    }

    /**
     * 根据Id 获取用户信息
     *
     * @param int    $userId 用户Id
     * @param string $field  显示字段
     * @return array
     */
    public function getByUserId($userId = 0, $field = '*') {
        if (empty($userId)) {
            return array();
        }

        $where = array('id' =&gt; $userId);
        $info = $this-&gt;field($field)-&gt;where($where)-&gt;find();

        if (isset($info['image']) &amp;&amp; isset($info['sex'])) {
            $info['image'] = ImageHelper::GetImageUrl($info['image'], $info['sex']);
        }

        return $info;
    }
}</code></pre>
<p>我简单说下，主要是以下几点： 

</p>
<pre><code>页面命名     页面名.blade.php。
类文件名要以 类名.class.php 结尾。 
类名必须要和对应的文件名要一模一样，大小写也要一模一样。</code></pre>
<p>Edit By <a href="http://mahua.jser.me">MaHua</a></p>
</body></html>